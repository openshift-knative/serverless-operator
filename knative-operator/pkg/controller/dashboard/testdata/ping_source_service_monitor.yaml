apiVersion: v1
kind: Service
metadata:
  labels:
    name: knative-eventing-metrics-ps
  name: knative-eventing-metrics-ps
spec:
  ports:
    - name: http-metrics
      port: 9090
      protocol: TCP
      targetPort: 9090
  selector:
    eventing.knative.dev/source: ping-source-controller
  sessionAffinity: None
  type: ClusterIP
---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  labels:
    name: knative-eventing-metrics-mn-ps
  name: knative-eventing-metrics-mn-ps
spec:
  endpoints:
    - port: http-metrics
  namespaceSelector: {}
  selector:
    matchLabels:
      name: knative-eventing-metrics-ps
