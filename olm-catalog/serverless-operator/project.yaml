project:
  name: serverless-operator
  # When bumping the Operator to a new version (major and minor), make sure to also update
  # all components in `dependencies.previous` to the same versions as `dependencies` in the same PR.
  # Otherwise, the upgrade tests will not pass, as we have a different SO version with the same bundle contents.
  # Also make sure to update values under `olm.previous` by copying from `olm.replaces` and `olm.skipRange`.
  version: 1.38.0
olm:
  replaces: 1.37.1
  skipRange: '>1.37.1 <1.38.0'
  channels:
    # The "global" operator default, used as "operators.operatorframework.io.bundle.channels.v1" annotation
    operator_default: stable
    # The default channel to use for CI
    default: stable
    list:
      - stable
      - stable-1.38
  previousBundles:
    # List of previous bundles to add to the generated index, also used in upgrade tests
    - version: 1.37.1
      replaces: 1.37.0
      skipRange: ">=1.37.0 <1.37.1"
    - version: 1.37.0
      replaces: 1.36.1
      skipRange: ">=1.36.1 <1.37.0"
    - version: 1.36.1
      replaces: 1.36.0
      skipRange: ">=1.36.0 <1.36.1"
    - version: 1.36.0
      replaces: 1.35.0
      skipRange: ">=1.35.0 <1.36.0"
requirements:
  kube:
    # The min version validation in `vendor/knative.dev/pkg/version/version.go`
    # is ignored as it is overridden by fake version via KUBERNETES_MIN_VERSION.
    # This value is used for CSV's min version validation.
    minVersion: 1.29.0
  golang: '1.25'
  nodejs: 20.x
  ocpVersion:
    list:
      - "4.16"
      - "4.17"
      - "4.18"
      - "4.19"
      - "4.20"
      - "4.21"
      - "4.22"
    min: '4.16'
    # Version to use for OCP docs links (in CSV or Quickstarts)
    doc: '4.20'
    # deprecated, use requirements.ocpVersion.list[-1]
    max: '4.20'
    label: 'v4.16'
    # OCP stream for kube-rbac-proxy image.
    kube-rbac-proxy: "4.17"
dependencies:
  serving: knative-v1.21
  # serving midstream branch name
  serving_artifacts_branch: release-v1.21
  # versions for networking components
  kourier: knative-v1.21
  net_kourier_artifacts_branch: release-v1.21
  net_istio: knative-v1.21
  net_istio_artifacts_branch: release-v1.21
  redhat-knative-istio-authz-chart: 1.37.0
  service_mesh_proxy: registry.redhat.io/openshift-service-mesh/proxyv2-rhel9@sha256:b79868dacf1e42a6daed9ea9d1cf05142cee185061bf3cb91d191e8f50885edf
  eventing: knative-v1.17
  # eventing core midstream branch name
  eventing_artifacts_branch: release-v1.17
  # eventing-kafka-broker promotion tag
  eventing_kafka_broker: knative-v1.17
  # eventing-kafka-broker midstream branch or commit
  eventing_kafka_broker_artifacts_branch: release-v1.17
  # eventing-integrations promotion tag
  eventing_integrations: knative-v1.17
  # eventing-integrations midstream branch or commit
  eventing_integrations_artifacts_branch: release-v1.17
  # eventing-istio promotion tag
  eventing_istio: knative-v1.17
  # eventing-istio midstream branch or commit
  eventing_istio_artifacts_branch: release-v1.17
  # backstage-plugins promotion tag
  backstage_plugins: knative-v1.17
  # backstage-plugins midstream branch or commit
  backstage_plugins_artifacts_branch: release-v1.17
  cli: knative-v1.17
  kube_rbac_proxy: registry.redhat.io/openshift4/ose-kube-rbac-proxy-rhel9@sha256:f550296753e9898c67d563b7deb16ba540ca1367944c905415f35537b6b949d4
  func:
    promotion_tag: knative-v1.17
    # if additional image is added amend the list in hack/generate/catalog.sh
    tekton_buildah: registry.redhat.io/rhel9/buildah@sha256:c011d25b3b0ca55e54118957a824c69dc6542060ba7f083df9d708347b9be79d
    nodejs_20_minimal: registry.access.redhat.com/ubi9/nodejs-20-minimal@sha256:106ce430764e40e96f07fd085c77a3e8855f8183578d0651e762a51e13648cf3
    openjdk_21: registry.access.redhat.com/ubi9/openjdk-21@sha256:5a58d6a421b113a937a284f6661b26147ce98e3d924a87d40e48897862979ebb
    python-39: registry.access.redhat.com/ubi9/python-39@sha256:c871688f22d2ac783a37703b1944fd94d8d2707aac8a3363fd1a039141b365f6
  operator: 1.17.8
  # Previous versions required for downgrade testing
  previous:
    serving: knative-v1.17
    eventing: knative-v1.16
    eventing_kafka_broker: knative-v1.16
