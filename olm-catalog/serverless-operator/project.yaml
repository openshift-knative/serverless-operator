project:
    name: serverless-operator
    # When bumping the Operator to a new version (major and minor), make sure to also update
    # all components in `dependencies.previous` to the same versions as `dependencies` in the same PR.
    # Otherwise, the upgrade tests will not pass, as we have a different SO version with the same bundle contents.
    # Also make sure to update values under `olm.previous` by copying from `olm.replaces` and `olm.skipRange`.
    version: 1.29.0
olm:
    replaces: 1.28.0
    skipRange: '>=1.28.0 <1.29.0'
    channels:
        default: 'stable'
        list:
            - 'stable'
            - 'stable-1.29'
    previous:
        replaces: 1.27.0
        skipRange: '>=1.27.0 <1.28.0'
requirements:
    kube:
        # The min version validation in `vendor/knative.dev/pkg/version/version.go`
        # is ignored as it is overridden by fake version via KUBERNETES_MIN_VERSION.
        # This value is used for CSV's min version validation.
        minVersion: 1.21.0
    golang: '1.19'
    nodejs: 16.x
    ocpVersion:
        min: '4.10'
        max: '4.13'
        label: 'v4.10'
dependencies:
    serving: knative-v1.8
    # serving midstream branch name
    serving_artifacts_branch: release-v1.8
    # versions for networking components
    kourier: 1.8.0
    net_kourier_artifacts_branch: release-1.8
    net_istio: 1.8.0
    net_istio_artifacts_branch: release-1.8
    maistra: 2.3-latest
    eventing: knative-v1.8
    # eventing core midstream branch name
    eventing_artifacts_branch: release-v1.8
    # eventing-kafka-broker promotion tag
    eventing_kafka_broker: knative-v1.8
    # eventing-kafka-broker midstream branch or commit
    eventing_kafka_broker_artifacts_branch: release-v1.8
    # eventing-istio promotion tag
    eventing_istio: knative-v1.8
    cli: 1.8.1
    func:
        util: quay.io/boson/alpine-socat:1.7.4.3-r1-non-root
        tekton_s2i: registry.redhat.io/ocp-tools-4-tech-preview/source-to-image-rhel8@sha256:98d8cb3a255641ca6a1bce854e5e2460c20de9fb9b28e3cc67eb459f122873dd
        tekton_buildah: registry.redhat.io/rhel8/buildah@sha256:a1e5cc0fb334e333e5eab69689223e8bd1f0c060810d260603b26cf8c0da2023
    operator: 1.6.0
    # Previous versions required for downgrade testing
    previous:
        serving: 1.7.0
        eventing: 1.7
        eventing_kafka_broker: 1.7
upgrade_sequence:
    - csv: serverless-operator.v1.26.0
      source: redhat-operators
    - csv: serverless-operator.v1.27.1
      source: redhat-operators
    - csv: serverless-operator.v1.28.0
      source: redhat-operators
    - csv: serverless-operator.v1.29.0
      source: serverless-operator
